# ğŸ“¦ Room91

> ì§ì¥ì¸ì˜ í†µê·¼ì„ ê³ ë ¤í•œ ë¶€ë™ì‚° ë§¤ë¬¼ ê²€ìƒ‰ ì›¹ ì„œë¹„ìŠ¤  
ì¶œê·¼ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ì›ë£¸/íˆ¬ë£¸ì„ ìë™ í•„í„°ë§í•˜ê³ , êµí†µ ì•± ì—†ì´ë„ í†µí•© í†µê·¼ ì†Œìš” ì‹œê°„ ë° ê¸¸ì°¾ê¸° ê²½ë¡œë¥¼ ì œê³µí•©ë‹ˆë‹¤.
ë˜í•œ, ì¬ê°œë°œ ì§€ì—­ ì‹¤ê±°ë˜ê°€ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ AI ë‰´ìŠ¤ í˜•íƒœì˜ íˆ¬ì ì •ë³´ë„ í•¨ê»˜ ì œê³µí•˜ì—¬ ì‚¬ìš©ìì˜ ì˜ì‚¬ê²°ì •ì„ ì§€ì›í•©ë‹ˆë‹¤.

## ğŸ“š ëª©ì°¨
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [API ë¬¸ì„œ](#-ì£¼ìš”-api)
- [ë°°í¬ ì£¼ì†Œ](#-ë°°í¬-ì£¼ì†Œ)
- [ë¡œì»¬ ì‹¤í–‰ ë°©ë²•](#-ë¡œì»¬-ì‹¤í–‰-ë°©ë²•)

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ


| ë¶„ì•¼             | ê¸°ìˆ                                      |
| -------------- | -------------------------------------- |
| **Front-end**  | React (JavaScript)                     |
| **Back-end**   | Spring Boot (Java 17), Python          |
| **Database**   | PostgreSQL, MongoDB, Redis             |
| **DevOps**     | AWS EC2, Docker, Docker Compose, Nginx |
| **Build Tool** | Gradle                                 |
| **ê¸°íƒ€**         | Swagger, Spring Profiles, GitHub       |


## â–¶ï¸ ì£¼ìš” ê¸°ëŠ¥
1. ì¬ê°œë°œ ì§€ì—­ ëª©ë¡ í•„í„°ë§ ë° ìƒì„¸ ì‹¤ê±°ë˜ê°€ ì •ë³´ ì¡°íšŒ
2. ì›ë£¸/íˆ¬ë£¸ ë§¤ë¬¼ ëª©ë¡ í•„í„°ë§ ë° ìƒì„¸ì •ë³´ í™•ì¸
3. í†µê·¼ ì†Œìš” ì‹œê°„ ìë™ ê³„ì‚° ë° KakaoMap ê¸°ë°˜ ê¸¸ì°¾ê¸° ê¸°ëŠ¥ ì œê³µ - APIì´ìŠˆë¡œ ëŒ€ê¸°ì¤‘
4. Python ê¸°ë°˜ ì‹¤ê±°ë˜ê°€ ë°ì´í„° í¬ë¡¤ë§ ë° DB ì €ì¥
5. OpenAI + Google Cloud TTS ê¸°ë°˜ AI ë‰´ìŠ¤ ìš”ì•½ ë° ìŒì„± ì˜ìƒ ìë™ ìƒì„± 
6. ìƒì„±ëœ ë‰´ìŠ¤ ì˜ìƒ ë° í…ìŠ¤íŠ¸, ê´€ë ¨ ì§€ì—­ ì •ë³´ PostgreSQL ì €ì¥ ë° API ì œê³µ 
7. AI ë‰´ìŠ¤ í˜•íƒœì˜ íˆ¬ì ì •ë³´ ì œê³µ 
8. Spring dev/prod Profile êµ¬ì„±ìœ¼ë¡œ ìš´ì˜í™˜ê²½ ë¶„ë¦¬ 
9. Docker Compose ê¸°ë°˜ ë‹¤ì¤‘ ì»¨í…Œì´ë„ˆ êµ¬ì„± ë° ë°°í¬ ìë™í™” 
10. AWS EC2 + Nginx ê¸°ë°˜ ì‹¤ì œ ì„œë¹„ìŠ¤ ë°°í¬

## ğŸ“¡ ì£¼ìš” API

- Swagger ê¸°ë°˜ API ë¬¸ì„œ ì œê³µ
  ![api-spec-2.png](uploads/api-spec-2.png)
  ![api-spec-1.png](uploads/api-spec-1.png)

## ğŸš€ ë°°í¬ ì£¼ì†Œ

- EC2 ë°°í¬ ì„œë²„: https://room91.org

## âš™ï¸ ë¡œì»¬ ì‹¤í–‰ ë°©ë²•

> ì•„ë˜ ìˆœì„œë¥¼ ë°˜ë“œì‹œ ì§€ì¼œì£¼ì„¸ìš”.

1. í”„ë¡œì íŠ¸ í´ë¡  ë° ë¹Œë“œ
```bash
git clone https://github.com/BossMac124/Room91.git
cd Room91/BuDongSan
docker build -t housing-image:latest .
```

2. Docker compose ì‹¤í–‰
```bash
docker-compose up -d
```
> PostgreSQL, Redis, MongoDB ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.

3. MongoDB ì„¤ì •
- Compassì—ì„œ ì•„ë˜ URLë¡œ ì ‘ì†
```aiignore
mongodb://root:1234@localhost:27018/housing?authSource=admin
```
- housing ë°ì´í„°ë² ì´ìŠ¤ â†’ house ì»¬ë ‰ì…˜ ìƒì„± í›„ ì•„ë˜ ì¸ë±ìŠ¤ ì¶”ê°€
```aiignore
db.house.createIndex({ location: "2dsphere" })
```
- directions ì»¬ë ‰ì…˜ë„ ìƒì„± í›„
```aiignore
db.directions.createIndex({ origin: "2dsphere" })
db.directions.createIndex({ destination: "2dsphere" })
```

4. Python í¬ë¡¤ë§ ë°ì´í„° ìˆ˜ì§‘
```bash
cd Python
# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
# or
pip3 install -r requirements.txt

# í¬ë¡¤ë§ ì‹¤í–‰
python crawl.py
# or
python3 crawl.py
```

5. PostgreSQL ì„¤ì •
- PostgreSQL ë° pgAdmin ì„¤ì¹˜
- postgres Role ìƒì„± (ë¹„ë°€ë²ˆí˜¸: 1234, ëª¨ë“  ê¶Œí•œ ë¶€ì—¬)
- housing ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± (owner: postgres)
- ì•„ë˜ SQLë¡œ í…Œì´ë¸” ìƒì„±

```tsql
create table if not exists real_estate_deals (
    id bigint generated by default as identity,
    apt_name varchar(255),
    data_type varchar(255),
    deal_amount bigint not null,
    deal_area float8,
    deal_day integer not null,
    deal_month integer not null,
    deal_year integer not null,
    dealing_gbn varchar(255),
    district varchar(255),
    exclu_use_ar float8,
    floor integer,
    house_type varchar(255),
    jibun varchar(255),
    jimok varchar(255),
    land_use varchar(255),
    neighborhood varchar(255),
    plottage_area float8,
    share_dealing_type varchar(255)
);
```

6. ì¬ê°œë°œ ì •ë³´ ìˆ˜ì§‘
```bash
# redevelopment.py ì‹¤í–‰
python redevelopment/redevelopment.py
```

7. AI ë‰´ìŠ¤ ì˜ìƒ ìƒì„± ë° ì €ì¥ (EC2ì—ì„œ ì‹¤í–‰)
```bash
python tts/pipeline/__main__.py
```
- ì¸ë„¤ì¼ ì´ë¯¸ì§€ì™€ ì˜¤ë””ì˜¤(mp3)ë¥¼ ê²°í•©í•˜ì—¬ EC2 ë””ë ‰í„°ë¦¬(`/home/ubuntu/Room91/news_videos/YYYYMMDD/`)ì— ìë™ ì €ì¥
- ì˜ìƒê³¼ ë‰´ìŠ¤ í…ìŠ¤íŠ¸, ê´€ë ¨ ì§€ì—­ì€ PostgreSQLì— ì €ì¥ë¨

8. ì„œë²„ ì‹¤í–‰
- ë°±ì—”ë“œ(Spring Boot)
```bash
cd BuDongSan
./gradlew build
java -jar build/libs/BuDongSan-0.0.1-SNAPSHOT.jar
```
- í”„ë¡ íŠ¸ì—”ë“œ(React)
```bash
cd frontend
npm install
npm run dev
```

8. ì„œë¹„ìŠ¤ ê°œë°œ ì„œë²„ ì ‘ì†
- http://localhost:5173

[//]: # (1. Git í´ë¡ )

[//]: # (    - ```git clone https://github.com/BossMac124/Room91.git```)

[//]: # ()
[//]: # (2. MongoDBCompass, docker Desktop ì„¤ì¹˜)

[//]: # ()
[//]: # (3. í”„ë¡œì íŠ¸ ë³µì œ í›„ ë¹Œë“œ ì‹¤í–‰)

[//]: # ()
[//]: # (4. í„°ë¯¸ë„ì—ì„œ )

[//]: # ()
[//]: # (   'cd BuDongSan )

[//]: # ()
[//]: # (   docker build -t housing-image:latest .')

[//]: # ()
[//]: # (   ìƒì„±ëœ ì´ë¯¸ì§€ í™•ì¸)

[//]: # ()
[//]: # (5. docker-compose.yml íŒŒì¼ ì‹¤í–‰ í›„ docker Desktopì—ì„œ budongsan ë©€í‹°ì»¨í…Œì´ë„ˆ ì‹¤í–‰)

[//]: # ()
[//]: # (6. MongoDB ì„¤ì¹˜ í›„ 27017 -> 27018 í¬íŠ¸ë¡œ ë³€ê²½)

[//]: # ()
[//]: # (7. MongoDBCompassì—ì„œ ì ‘ì†í•  ë•Œ urlì„ 'mongodb://root:1234@localhost:27018/housing?authSource=admin' ìœ¼ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.)

[//]: # ()
[//]: # (8. housing ë°ì´í„°ë² ì´ìŠ¤ ë§Œë“¤ê³  house ì»¬ë ‰ì…˜ ìƒì„±)

[//]: # ()
[//]: # (9. house ì»¬ë ‰ì…˜ì—ì„œ OpenMongoDB shellì— ì ‘ì†)

[//]: # ()
[//]: # (    'db.house.createIndex&#40; { location: "2dsphere" }&#41;' ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰)

[//]: # ()
[//]: # (10. MongoDBCompassì—ì„œ directions ì»¬ë ‰ì…˜ì„ ìƒì„±í›„ OpenMongoDB shellì— ì ‘ì†)

[//]: # ()
[//]: # (      'db.directions.createIndex&#40; { origin: "2dsphere" }&#41;)

[//]: # ()
[//]: # (      db.directions.createIndex&#40; { destination: "2dsphere" }&#41;')

[//]: # ()
[//]: # (    ëª…ë ¹ì–´ ì‹¤í–‰)

[//]: # ()
[//]: # (11. Python í´ë” ë“¤ì–´ê°€ì„œ í„°ë¯¸ë„ë¡œ ì´ë™)

[//]: # ()
[//]: # (    'cd C:\Users\wjddu\IdeaProjects\Room91\Python' <- ê°ì ì»´í“¨í„° ë””ë ‰í† ë¦¬ì— ë§ëŠ” í´ë” ìœ„ì¹˜ ìˆ˜ì •)

[//]: # (   )
[//]: # (     Window : 'pip install -r requirements.txt ' ëª…ë ¹ì–´ ì‹¤í–‰)

[//]: # ()
[//]: # (     Mac : 'pip3 install -r requirements.txt ' ëª…ë ¹ì–´ ì‹¤í–‰)

[//]: # ()
[//]: # (13. Window : 'python crawl.py' ì„)

[//]: # ()
[//]: # (    Mac : 'python3 crawl.py' ì„ ì‹¤í–‰)

[//]: # (=======)

[//]: # (      'db.directions.createIndex&#40; { origin: "2dsphere" }&#41;)

[//]: # (      )
[//]: # (      db.directions.createIndex&#40; { destination: "2dsphere" }&#41;' )

[//]: # (      ëª…ë ¹ì–´ ì‹¤í–‰í•˜ì—¬ ì¸ë±ìŠ¤ ìƒì„±)

[//]: # ()
[//]: # (14. PostgreSQL ì„¤ì¹˜)

[//]: # ()
[//]: # (    Window : https://www.enterprisedb.com/downloads/postgres-postgresql-downloads ì ‘ì† í›„ 15.12 ë²„ì „ ì„¤ì¹˜)

[//]: # ()
[//]: # (    Mac : 'brew install postgresql@15' -> 'brew link postgresql@15 --force')

[//]: # ()
[//]: # (    ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ëŠ” ì•Œì•„ì„œ ì„¤ì •)

[//]: # ()
[//]: # (15. pgAdmin4 ì„¤ì¹˜)

[//]: # ()
[//]: # (    Window : https://www.postgresql.org/ftp/pgadmin/pgadmin4/v9.2/windows -> Filesì— pgadmin4-9.2-x64.exe ì„¤ì¹˜)

[//]: # ()
[//]: # (    Mac : 'brew install --cask pgadmin4' ì„¤ì¹˜ í›„ ì‘ìš©í”„ë¡œê·¸ë¨ì—ì„œ í™•ì¸)

[//]: # ()
[//]: # (16. pgAdmin4 ì ‘ì† -> ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ -> ì´ˆê¸° ì„œë²„ë¡œ ì—°ê²°ë¨)

[//]: # ()
[//]: # (17. Role ìƒì„±)

[//]: # ()
[//]: # (    Servers -> PostgreSQL 15 -> Login/Group Roles ìš°í´ë¦­ -> Create -> Login/Group Role í´ë¦­)

[//]: # ()
[//]: # (    General í•­ëª© / name : postgres)

[//]: # (    Definition í•­ëª© / Password : 1234)

[//]: # (    Privileges í•­ëª© / ì „ë¶€ í™œì„±í™” í›„ save)

[//]: # ()
[//]: # (18. Database ìƒì„±)

[//]: # (   )
[//]: # (    Servers -> PostgreSQL 15 -> Databases ìš°í´ë¦­ -> Create -> Database... í´ë¦­)

[//]: # ()
[//]: # (    General í•­ëª© / Database : housing, Owner : postgres)

[//]: # (    ì…ë ¥ í›„ save)

[//]: # ()
[//]: # (19. ì¸í…”ë¦¬ì œì´ ë‚´ë¶€ì— postgreSQL ì—°ê²°)

[//]: # ()
[//]: # (    DB ìš°í´ë¦­ í›„ new -> Query Console í´ë¦­)

[//]: # (    )
[//]: # (20. create table if not exists real_estate_deals &#40;)

[//]: # (    id bigint generated by default as identity,)

[//]: # (    apt_name varchar&#40;255&#41;,)

[//]: # (    data_type varchar&#40;255&#41;,)

[//]: # (    deal_amount bigint not null,)

[//]: # (    deal_area float8,)

[//]: # (    deal_day integer not null,)

[//]: # (    deal_month integer not null,)

[//]: # (    deal_year integer not null,)

[//]: # (    dealing_gbn varchar&#40;255&#41;,)

[//]: # (    district varchar&#40;255&#41;,)

[//]: # (    exclu_use_ar float8,)

[//]: # (    floor integer,)

[//]: # (    house_type varchar&#40;255&#41;,)

[//]: # (    jibun varchar&#40;255&#41;,)

[//]: # (    jimok varchar&#40;255&#41;,)

[//]: # (    land_use varchar&#40;255&#41;,)

[//]: # (    neighborhood varchar&#40;255&#41;,)

[//]: # (    plottage_area float8,)

[//]: # (    share_dealing_type varchar&#40;255&#41;)

[//]: # (    &#41;;)

[//]: # ()
[//]: # (    ì¿¼ë¦¬ë¬¸ ì‹¤í–‰ -> í…Œì´ë¸”, ì»¬ëŸ¼ ìƒì„±)

[//]: # ()
[//]: # (20. Python/redevelopment ê²½ë¡œì— ìˆëŠ” redevelopment.py ì‹¤í–‰)

[//]: # ()
[//]: # (21. BuDongSanApplication ì‹¤í–‰, cd ./frontend/ ì—ì„œ npm run dev ì‹¤í–‰)

[//]: # ()
[//]: # (22. http://localhost:5173 ì ‘ì†)